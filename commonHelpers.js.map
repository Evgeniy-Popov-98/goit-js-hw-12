{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n/*========================================*/\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n/*=============================================================*/\n\nconst form = document.querySelector('.js-form');\nconst input = document.querySelector('.js-input');\nconst buttom = document.querySelector('.js-button');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', creatGallery);\n\nfunction creatGallery(event) {\n  event.preventDefault();\n  const infoSearch = form.elements.text.value.trim();\n  form.elements.text.value = '';\n  loader.removeAttribute('hidden');\n  removeGallery();\n  if (infoSearch) {\n    getImages(infoSearch);\n  } else {\n    iziToast.error({\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n}\n\nfunction removeGallery() {\n  const galleryItem = document.querySelectorAll('.gallery-item');\n  for (let i = 0; i < galleryItem.length; i++) {\n    galleryItem[i].remove();\n  }\n}\n\nfunction getImages(infoSearch) {\n  const url = `https://pixabay.com/api/?key=42169950-0e8cca4ed1d3fcef898dec13a&q=${infoSearch}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(res => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        const myError = new Error(`${res.status}`);\n        throw myError;\n      }\n    })\n    .then(resolt => {\n      if (resolt.hits.length !== 0) {\n        renderImages(resolt.hits);\n      } else {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    })\n    .catch(err => console.log(err.message));\n}\n\nfunction imageTemplate(img) {\n  return `\n\t\t\t <li class=\"gallery-item\">\n\t\t\t\t<a class=\"gallery-link\" href=${img.largeImageURL}>\n\t\t\t\t\t<img class=\"gallery-image\" src=${img.webformatURL} alt=\"${img.tags}\" />\n\t\t\t\t</a>\n\t\t\t\t<div class=\"container\">\n\t\t\t\t\t<div class=\"container-text\"><h3 class=\"titel-text\">Likes</h3><p class=\"text\">${img.likes}</p></div>\n\t\t\t\t\t<div class=\"container-text\"><h3 class=\"titel-text\">Views</h3><p class=\"text\">${img.views}</p></div>\n\t\t\t\t\t<div class=\"container-text\"><h3 class=\"titel-text\">Comments</h3><p class=\"text\">${img.comments}</p></div>\n\t\t\t\t\t<div class=\"container-text\"><h3 class=\"titel-text\">Dowloads</h3><p class=\"text\">${img.downloads}</p></div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t`;\n}\n\nfunction renderImages(images) {\n  loader.setAttribute('hidden', '');\n  const markup = images.map(imageTemplate).join('');\n  gallery.innerHTML = markup;\n\n  let galleryModalWindow = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  galleryModalWindow.refresh();\n}\n"],"names":["form","gallery","loader","creatGallery","event","infoSearch","removeGallery","getImages","iziToast","galleryItem","i","url","res","resolt","renderImages","err","imageTemplate","img","images","markup","SimpleLightbox"],"mappings":"6vBAOA,MAAMA,EAAO,SAAS,cAAc,UAAU,EAChC,SAAS,cAAc,WAAW,EACjC,SAAS,cAAc,YAAY,EAClD,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAK,SAAS,KAAK,MAAM,OAC5CA,EAAK,SAAS,KAAK,MAAQ,GAC3BE,EAAO,gBAAgB,QAAQ,EAC/BI,IACID,EACFE,EAAUF,CAAU,EAEpBG,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACR,CAAK,CAEL,CAEA,SAASF,GAAgB,CACvB,MAAMG,EAAc,SAAS,iBAAiB,eAAe,EAC7D,QAASC,EAAI,EAAGA,EAAID,EAAY,OAAQC,IACtCD,EAAYC,CAAC,EAAE,QAEnB,CAEA,SAASH,EAAUF,EAAY,CAC7B,MAAMM,EAAM,qEAAqEN,CAAU,2DAE3F,OAAO,MAAMM,CAAG,EACb,KAAKC,GAAO,CACX,GAAIA,EAAI,GACN,OAAOA,EAAI,OAGX,MADgB,IAAI,MAAM,GAAGA,EAAI,MAAM,EAAE,CAGjD,CAAK,EACA,KAAKC,GAAU,CACVA,EAAO,KAAK,SAAW,EACzBC,EAAaD,EAAO,IAAI,EAExBL,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,CAET,CAAK,EACA,MAAMO,GAAO,QAAQ,IAAIA,EAAI,OAAO,CAAC,CAC1C,CAEA,SAASC,EAAcC,EAAK,CAC1B,MAAO;AAAA;AAAA,mCAE0BA,EAAI,aAAa;AAAA,sCACdA,EAAI,YAAY,SAASA,EAAI,IAAI;AAAA;AAAA;AAAA,oFAGaA,EAAI,KAAK;AAAA,oFACTA,EAAI,KAAK;AAAA,uFACNA,EAAI,QAAQ;AAAA,uFACZA,EAAI,SAAS;AAAA;AAAA;AAAA,IAIpG,CAEA,SAASH,EAAaI,EAAQ,CAC5BhB,EAAO,aAAa,SAAU,EAAE,EAChC,MAAMiB,EAASD,EAAO,IAAIF,CAAa,EAAE,KAAK,EAAE,EAChDf,EAAQ,UAAYkB,EAEK,IAAIC,EAAe,gBAAiB,CAC3D,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAEkB,QAAO,CAC5B"}