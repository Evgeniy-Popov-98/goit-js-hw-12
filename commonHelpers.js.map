{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pizsbay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport default function renderImages(images) {\n  loader.setAttribute('hidden', '');\n  const markup = images\n    .map(img => {\n      return `<li class=\"gallery-item\">\n\t\t   <a class=\"gallery-link\" href=${img.largeImageURL}>\n\t\t\t   <img class=\"gallery-image\" src=${img.webformatURL} alt=\"${img.tags}\" />\n\t\t   </a>\n\t\t   <div class=\"container\">\n\t\t\t   <div class=\"container-text\"><h3 class=\"titel-text\">Likes</h3><p class=\"text\">${img.likes}</p></div>\n\t\t\t   <div class=\"container-text\"><h3 class=\"titel-text\">Views</h3><p class=\"text\">${img.views}</p></div>\n\t\t\t   <div class=\"container-text\"><h3 class=\"titel-text\">Comments</h3><p class=\"text\">${img.comments}</p></div>\n\t\t\t   <div class=\"container-text\"><h3 class=\"titel-text\">Dowloads</h3><p class=\"text\">${img.downloads}</p></div>\n\t\t   </div>\n\t   </li>`;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  let galleryModalWindow = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  galleryModalWindow.refresh();\n}\n","import axios from 'axios';\n\nexport class infoAPI {\n  static PAGE_SIZE = 15;\n\n  constructor(infoSearch) {\n    this.BASE_URL = 'https://pixabay.com/api/docs/';\n    this.END_POINT = '';\n    this.query = '&image_type=photo&orientation=horizontal&safesearch=true';\n    this.page = 1;\n    this.totalResult = 0;\n  }\n\n  async getInfoArticles(infoSearch) {\n    const params = {\n      apiKey: '42169950-0e8cca4ed1d3fcef898dec13a',\n      q: `${infoSearch}` + this.query,\n      pageSize: infoAPI.PAGE_SIZE,\n      page: this.page,\n    };\n    console.log(infoSearch);\n    console.log(params.q);\n    // ${this.END_POINT}`\n    const url = `${this.BASE_URL}`;\n    console.log(url);\n    const test = await axios.get(url, { params });\n    console.log(test);\n    // return test;\n\n    // return fetch(url)\n    //   .then(res => {\n    //     if (res.ok) {\n    //       return res.json();\n    //     } else {\n    //       const myError = new Error(`${res.status}`);\n    //       throw myError;\n    //     }\n    //   })\n    //   .then(resolt => {\n    //     if (resolt.hits.length !== 0) {\n    //       renderImages(resolt.hits);\n    //     } else {\n    //       iziToast.error({\n    //         position: 'topRight',\n    //         message:\n    //           'Sorry, there are no images matching your search query. Please try again!',\n    //       });\n    //     }\n    //   })\n    //   .catch(err => console.log(err.message));\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n/*=============================================================*/\nimport renderImages from './js/render-functions';\nimport { infoAPI } from './js/pizsbay-api';\n\nconst form = document.querySelector('.js-form');\nconst input = document.querySelector('.js-input');\nconst buttom = document.querySelector('.js-button');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst newInfoApi = new infoAPI();\n\nform.addEventListener('submit', creatGallery);\n\nfunction creatGallery(event) {\n  event.preventDefault();\n  const infoSearch = form.elements.text.value.trim();\n  form.elements.text.value = '';\n  loader.removeAttribute('hidden');\n  removeGallery();\n  if (infoSearch) {\n    // loader.setAttribute('hidden', '');\n\n    try {\n      console.log(infoSearch);\n      const data = newInfoApi.getInfoArticles(infoSearch);\n      //   console.log(data);\n      //   renderImages(data.hits);\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: err.message,\n      });\n    }\n  } else {\n    iziToast.error({\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n}\n\nfunction removeGallery() {\n  const galleryItem = document.querySelectorAll('.gallery-item');\n  for (let i = 0; i < galleryItem.length; i++) {\n    galleryItem[i].remove();\n  }\n}\n\n// function getImages(infoSearch) {\n//   const url = `https://pixabay.com/api/?key=42169950-0e8cca4ed1d3fcef898dec13a&q=${infoSearch}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n//   return fetch(url)\n//     .then(res => {\n//       if (res.ok) {\n//         return res.json();\n//       } else {\n//         const myError = new Error(`${res.status}`);\n//         throw myError;\n//       }\n//     })\n//     .then(resolt => {\n//       if (resolt.hits.length !== 0) {\n//         renderImages(resolt.hits);\n//       } else {\n//         iziToast.error({\n//           position: 'topRight',\n//           message:\n//             'Sorry, there are no images matching your search query. Please try again!',\n//         });\n//       }\n//     })\n//     .catch(err => console.log(err.message));\n// }\n"],"names":["_infoAPI","infoSearch","params","url","test","axios","__publicField","infoAPI","form","loader","newInfoApi","creatGallery","event","removeGallery","data","iziToast","galleryItem","i"],"mappings":"q6BAGgB,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,ECFxC,MAAMA,EAAN,MAAMA,CAAQ,CAGnB,YAAYC,EAAY,CACtB,KAAK,SAAW,gCAChB,KAAK,UAAY,GACjB,KAAK,MAAQ,2DACb,KAAK,KAAO,EACZ,KAAK,YAAc,CACpB,CAED,MAAM,gBAAgBA,EAAY,CAChC,MAAMC,EAAS,CACb,OAAQ,qCACR,EAAG,GAAGD,CAAU,GAAK,KAAK,MAC1B,SAAUD,EAAQ,UAClB,KAAM,KAAK,IACjB,EACI,QAAQ,IAAIC,CAAU,EACtB,QAAQ,IAAIC,EAAO,CAAC,EAEpB,MAAMC,EAAM,GAAG,KAAK,QAAQ,GAC5B,QAAQ,IAAIA,CAAG,EACf,MAAMC,EAAO,MAAMC,EAAM,IAAIF,EAAK,CAAE,OAAAD,CAAM,CAAE,EAC5C,QAAQ,IAAIE,CAAI,CAwBjB,CACH,EAhDEE,EADWN,EACJ,YAAY,IADd,IAAMO,EAANP,ECIP,MAAMQ,EAAO,SAAS,cAAc,UAAU,EAChC,SAAS,cAAc,WAAW,EACjC,SAAS,cAAc,YAAY,EAClC,SAAS,cAAc,UAAU,EACjD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAa,IAAIH,EAEvBC,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMX,EAAaO,EAAK,SAAS,KAAK,MAAM,OAI5C,GAHAA,EAAK,SAAS,KAAK,MAAQ,GAC3BC,EAAO,gBAAgB,QAAQ,EAC/BI,IACIZ,EAGF,GAAI,CACF,QAAQ,IAAIA,CAAU,EACtB,MAAMa,EAAOJ,EAAW,gBAAgBT,CAAU,CAGnD,MAAe,CACdc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,IAAI,OACrB,CAAO,CACF,MAEDA,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACR,CAAK,CAEL,CAEA,SAASF,GAAgB,CACvB,MAAMG,EAAc,SAAS,iBAAiB,eAAe,EAC7D,QAASC,EAAI,EAAGA,EAAID,EAAY,OAAQC,IACtCD,EAAYC,CAAC,EAAE,QAEnB"}